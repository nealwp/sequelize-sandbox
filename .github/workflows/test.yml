name: Run Unit & Integration tests

on:
  push

jobs:
  unit:
    name: Run Unit Tests
    runs-on: ubuntu-20.04
    steps:
      - name: Checkout Service
        uses: actions/checkout@main
      - name: Install Dependencies
        run: npm ci
      - name: Run Unit Tests
        run: npm test

  integration:
    name: Run Integration Tests
    runs-on: ubuntu-20.04
    steps:
      - name: Install Dependencies
        run: npm ci
      - name: Checkout Service
        uses: actions/checkout@main
      - name: Run Integration Tests
        run: npm run test:integration